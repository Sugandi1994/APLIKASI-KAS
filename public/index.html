<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Kas Sederhana</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body class="bg-light">
    <div class="container py-4">
      <h2 class="text-center mb-4">ðŸ“Š Aplikasi Kas Sederhana</h2>

      <!-- Kartu Statistik dengan Responsivitas Ditingkatkan -->
      <div class="row mb-4 text-center">
        <div class="col-12 col-sm-6 col-lg-4 mb-3 mb-sm-0">
          <div class="card border-success h-100">
            <div class="card-body d-flex flex-column justify-content-center">
              <h5 class="card-title text-success">Total Pemasukan</h5>
              <h3 id="totalIn" class="mb-0">Rp 0</h3>
            </div>
          </div>
        </div>
        <div class="col-12 col-sm-6 col-lg-4 mb-3 mb-sm-0">
          <div class="card border-danger h-100">
            <div class="card-body d-flex flex-column justify-content-center">
              <h5 class="card-title text-danger">Total Pengeluaran</h5>
              <h3 id="totalOut" class="mb-0">Rp 0</h3>
            </div>
          </div>
        </div>
        <div class="col-12 col-sm-6 col-lg-4 mb-3 mb-sm-0">
          <div class="card border-primary h-100">
            <div class="card-body d-flex flex-column justify-content-center">
              <h5 class="card-title text-primary">Saldo</h5>
              <h3 id="saldo" class="mb-0">Rp 0</h3>
            </div>
          </div>
        </div>
      </div>

      <!-- Form Transaksi dengan Layout Mobile-Friendly -->
      <div class="card mb-4 shadow-sm">
        <div class="card-body">
          <h5 class="card-title mb-3">Tambah Transaksi</h5>
          <form id="formTransaksi" class="row g-3">
            <div class="col-12 col-md-6 col-lg-2">
              <label for="jenis" class="form-label">Jenis</label>
              <select class="form-select form-select-lg" id="jenis">
                <option value="Pemasukan">Pemasukan</option>
                <option value="Pengeluaran">Pengeluaran</option>
              </select>
            </div>
            <div class="col-12 col-md-6 col-lg-2">
              <label for="jumlah" class="form-label">Jumlah</label>
              <input
                type="number"
                id="jumlah"
                class="form-control form-control-lg"
                placeholder="Jumlah"
                required
              />
            </div>
            <div class="col-12 col-lg-3">
              <label for="keterangan" class="form-label">Keterangan</label>
              <input
                type="text"
                id="keterangan"
                class="form-control form-control-lg"
                placeholder="Keterangan"
                required
              />
            </div>
            <div class="col-12 col-md-6 col-lg-2">
              <label for="tanggal" class="form-label">Tanggal</label>
              <input
                type="date"
                id="tanggal"
                class="form-control form-control-lg"
                required
              />
            </div>
            <div class="col-12 col-md-6 col-lg-3 d-grid">
              <button type="submit" class="btn btn-success btn-lg mt-auto">
                Tambah
              </button>
            </div>
          </form>
        </div>
      </div>

      <!-- Filter dan Export dengan Layout Mobile-Friendly -->
      <div class="card mb-4 shadow-sm">
        <div class="card-body">
          <div class="row align-items-center g-3">
            <div class="col-12 col-md-6 col-lg-3">
              <label for="bulanFilter" class="form-label">Filter Bulan</label>
              <input
                type="month"
                id="bulanFilter"
                class="form-control form-control-lg"
              />
            </div>
            <div class="col-12 col-md-6 col-lg-9">
              <div
                class="d-flex flex-wrap gap-2 justify-content-md-end mt-3 mt-md-0"
              >
                <button
                  id="exportXlsx"
                  class="btn btn-primary btn-lg flex-fill flex-md-grow-0"
                >
                  ðŸ“¥ Export XLSX
                </button>
                <button
                  id="exportPdf"
                  class="btn btn-danger btn-lg flex-fill flex-md-grow-0"
                >
                  ðŸ“„ Export PDF
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Tabel Data dengan Responsivitas Ditingkatkan -->
      <div class="card shadow-sm">
        <div class="card-body">
          <h5 class="card-title mb-3">Data Transaksi</h5>
          <div id="totalBulan" class="alert alert-info mb-3" style="display: none;">
            Total untuk bulan <span id="bulanSelected"></span>: Pemasukan <strong id="totalPemasukan">Rp 0</strong>, Pengeluaran <strong id="totalPengeluaran">Rp 0</strong>
          </div>
          <div class="table-responsive">
            <table class="table table-striped table-hover align-middle">
              <thead class="table-dark">
                <tr>
                  <th>#</th>
                  <th>Jenis</th>
                  <th>Jumlah</th>
                  <th>Keterangan</th>
                  <th>Tanggal</th>
                  <th>Aksi</th>
                </tr>
              </thead>
              <tbody id="tabelData"></tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>
    <script src="script.js"></script>
  </body>
</html>
